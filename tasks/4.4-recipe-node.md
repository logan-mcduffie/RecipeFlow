# Task 4.4: Recipe Node Component

**Phase**: 4 - Flowchart Editor Frontend
**Status**: Not Started

## Summary

Build the custom node component for displaying recipes.

## Why This Matters

The recipe node is the core visual element showing machine, inputs, outputs.

## Inputs/Outputs

- **Input**: Recipe data
- **Output**: Visual node with connection handles

## Technical Notes

**Node layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Machine Icon]  Machine Name   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Inputs          â”‚    Outputs   â”‚
â”‚  â—‹ [icon] x4     â”‚  [icon] x1 â—‹ â”‚
â”‚  â—‹ [icon] x2     â”‚  [icon] 500Lâ—‹â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  âš¡ 30 EU/t  â± 5s   [LV]       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“ "User note here..."    [âœï¸] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Display elements**:
- Machine/recipe type icon
- Input items (left side with connection handles)
- Output items (right side with connection handles)
- For GT: EU/t, duration, tier badge
- Item slots show animated icon + quantity
- User note section (optional, collapsible if empty)

**Interactions**:
- Hover on item slot â†’ tooltip with full item name
- Click node â†’ select (shows config panel)
- Handles glow on hover for connection feedback
- Click edit icon on note â†’ inline edit or modal
- Notes support basic text (can expand to markdown later)

**View modes**:
- Compact: just icons, minimal text
- Expanded: full details (default)

## Files to Touch

- `packages/web/src/editor/nodes/RecipeNode.tsx`
- `packages/web/src/editor/nodes/ItemSlot.tsx`
- `packages/web/src/editor/nodes/NodeStyles.css`
- `packages/web/src/components/ItemIcon.tsx`

## Acceptance Criteria

- [ ] Recipe node shows all inputs/outputs
- [ ] Item icons display correctly (including animated)
- [ ] GT metadata shown (EU/t, time, tier)
- [ ] Connection handles on input/output items
- [ ] Hover tooltips work
- [ ] Compact/expanded toggle works
- [ ] Selected state styling
- [ ] User notes can be added/edited on any node
- [ ] Notes are saved with flowchart data
- [ ] Empty notes don't clutter the UI
