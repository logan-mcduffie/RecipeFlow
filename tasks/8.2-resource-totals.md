# Task 8.2: Resource Totals Summary

**Phase**: 8 - Polish & Deployment
**Status**: Not Started

## Summary

Calculate total raw materials needed for the flowchart.

## Why This Matters

Helps users know what resources to gather before starting a crafting project.

## Inputs/Outputs

- **Input**: Complete flowchart
- **Output**: Material summary panel

## Technical Notes

**Summary panel**:
```
┌─────────────────────────────────┐
│ Resource Totals                 │
├─────────────────────────────────┤
│ For: 64x Steel Ingot            │
├─────────────────────────────────┤
│ Raw Materials Needed:           │
│                                 │
│ Ores & Ingots:                  │
│  [icon] Iron Ore         × 128  │
│  [icon] Coal             × 64   │
│                                 │
│ Fluids:                         │
│  [icon] Water            2000 L │
│  [icon] Oxygen           500 L  │
│                                 │
│ Power:                          │
│  Total EU: 1,234,567 EU         │
│                                 │
│ [Copy as Text] [Export CSV]     │
└─────────────────────────────────┘
```

**Algorithm**:
1. Identify "raw" nodes (items with no incoming recipes, or marked as raw)
2. Trace through flowchart, respecting quantities
3. Sum up quantities of each raw material
4. Account for recipe output amounts (if recipe makes 4, divide)

**Raw material detection**:
- Items with no recipe in the database
- Items explicitly marked as "raw" (ores, base resources)
- Configurable: user can mark items as "I have this"

**Grouping**:
- Group by category if possible (ores, ingots, fluids, etc.)
- Or alphabetical

**Export options**:
- Copy as plain text (for Discord/chat)
- Export as CSV
- Copy as formatted markdown

## Files to Touch

- `packages/web/src/editor/analysis/resourceTotals.ts`
- `packages/web/src/editor/panels/ResourceTotalsPanel.tsx`
- `packages/web/src/editor/export/exportResourceList.ts`

## Acceptance Criteria

- [ ] Correctly sums raw materials
- [ ] Accounts for quantity scaling
- [ ] Displays in organized panel
- [ ] Grouping by category works
- [ ] Copy as text works
- [ ] Export to CSV works
- [ ] Shows fluid totals
- [ ] Shows total power consumption
