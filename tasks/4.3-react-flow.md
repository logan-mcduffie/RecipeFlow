# Task 4.3: React Flow Integration

**Phase**: 4 - Flowchart Editor Frontend
**Status**: Not Started

## Summary

Set up React Flow for the flowchart editor canvas.

## Why This Matters

React Flow is the core library powering the visual editor.

## Inputs/Outputs

- **Input**: React Flow library
- **Output**: Basic canvas with custom nodes

## Technical Notes

**React Flow setup**:
- Controls panel (zoom in/out, fit view)
- Minimap for navigation
- Background grid

**Custom node types**:
- `recipe` - shows machine, inputs, outputs (main node type)
- `item` - single item with quantity (for raw materials)
- `group` - container for organizing related nodes

**Custom edge styling**:
- Animated flow direction
- Color coding by item type (items vs fluids)
- Quantity labels on edges

**Interactions**:
- Zoom and pan (mouse wheel, drag)
- Node selection (click, shift+click for multi)
- Node dragging
- Edge creation by dragging from handles
- Snap to grid option
- Undo/redo

## Files to Touch

- `packages/web/src/editor/FlowchartEditor.tsx`
- `packages/web/src/editor/nodes/*`
- `packages/web/src/editor/edges/*`
- `packages/web/src/editor/hooks/useFlowState.ts`

## Acceptance Criteria

- [ ] Canvas renders with React Flow
- [ ] Custom recipe node displays correctly
- [ ] Nodes can be dragged and connected
- [ ] Zoom/pan controls work
- [ ] Selection and multi-select work
- [ ] Minimap shows overview
- [ ] Undo/redo functions
